<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript Class Example</title>
</head>
<body>
    <script>
        //To create a web application that allows 
        //teachers to enter their details
        //to store into database
        //Details: firstname, lastname, age, email
        //--values you want to capture to store into database

        //1) create object template - class
        //class is able to do encapsulation (hidden /hide details from other functions or classes)
        class Person {

            //2) initialize the instance variable of Person class
            //by creating a consructor
            constructor(firstname, lastname, age, email) //parameters passed in by instance object 
            {    
                //assign the parameter firstname to the instance variable in class object (Person) 
                //- without inheritance and composition and abstration and polymorphism theory
                this._firstname = firstname;  //this refers to the class object (Person)
                this._lastname = lastname;
                this._age = age;
                this._email = email;

                //own instance variable without parameter pass in
                this._modules = []; //store the module that the teacher teaches in an array

            }

            //getter and setter property methods - functions that retrieve / set the 
            //value of the class instance variables
            //we do not allow other classes/functions/programs to directly access our
            //class instance variable

            //create a getter property method for firstname
            get firstname() {
                return this._firstname;
            }

            //create a setter method for firstname
            set firstname(fname) {
                this._firstname = fname;
            }

            //create a getter !!! property method for firstname
            get lastname() {
                return this._lastname;
            }

            //create a setter !!! method for firstname
            set lastname(lname) {
                this._lastname = lname;
            }

            get age() {
                return this._age;
            }

            set age(myage) {
                this._age = myage;
            }

            get email() {
                return this._email;
            }

            set email(myemail) {
                this._email = myemail;
            }

            //methods (a bunch of functions that performs actions: calculation, 
            //string concat, etc)
            displayDetails() {
                return `Hello I am ${this._firstname} ${this._lastname}, 
                my age is ${this._age} and my email is ${this._email}.`
            }
            
            //addModule - add a new module to the array (value: module code, module title, module description) 
            addModule(code, title, description) {
                //push the code, title and description into the this._module array
                const obj =     {
                    iCode : code,
                    iTitle : title,
                    iDescription : description
                }

                this._modules.push(obj);
            }

            //displayModule - show all the modules that the teacher is currently teaching
            displayModule() {
                console.log(`Hello ${this._firstname}, these are the modules you are teaching:\n`);

                //For loop to retrieve each object in this._module array
                for (var i=0; i< this._modules.length; i++) {
                    
                    console.log(`Module Code: ${this._modules[i].iCode}, Title: ${this._modules[i].iTitle}, Description: ${this._modules[i].iDescription}`);
                    
                }
            }

        }   //End of Person Class

        //create instance of the class

        //out of Person Class - Create new instance of the Class, passing in values to class
        const teacher1 = new Person('Jean', 'Looi', 18, 'jean@gmail.com');
        console.log(teacher1.firstname);

        teacher1.firstname = `Dave`;
        console.log(teacher1.firstname);

        teacher1.addModule('TP123', 'JFSD', 'Junior Full-stack Developer');
        teacher1.addModule('TP345', 'CP', 'Cloud computing');
        teacher1.displayModule();

        const teacher2 = new Person('Bryan', 'Chew', 15, 'bryan@gmail.com');
        console.log(teacher2.firstname);

        teacher2.email = 'bryanchew@gmail.com'
        console.log(teacher2.email);

        teacher2.addModule('TP123', 'JFSD', 'Junior Full-stack Developer');
        teacher2.addModule('TP888', 'IA', 'Introduction to Analytics');
        teacher2.displayModule();

        //print Hello I am Jean Loo, my age is 18, myy email is jean@gmail.com
        //print Hello I am Bryan Chew, my age is 15, my email is bryan@gmail.com
        console.log(teacher1.displayDetails());
        console.log(teacher2.displayDetails());

    </script>


</body>
</html>